# Implementation Plan V2

## Overview
This plan outlines the implementation of Version 2.0 roadmap and checklist templates, focusing on automation via Scribe. It emphasizes JSON-LD as the machine-readable Single Source of Truth (SST) file for LLM interaction, with auto-generated Markdown (MD) twins for human readability. All population, syncing, and timestamping are handled by Scribe to ensure reliability and adherence to principles like automation-first and SST.

## Key Principles
- **Automation via Scribe**: Scribe handles all generation and syncing; no manual edits to originals.
- **JSON-LD as SST**: Primary file for LLM read/write; supports semantic structure and SHACL validation.
- **MD Twins**: Auto-generated by Scribe for human appeal (e.g., styled with trees, progress bars).
- **Timestamping by Scribe**: Ensures accurate, current dates; LLM instructed not to add them.
- **Tool Isolation**: Deactivate non-essential Scribe components for verification.
- **Alignment with Repo Principles**: SST (0.1), scripting-first (0.5), sequential execution (1.6), 100% verification (1.2).

## Template Updates
- Copies created as roadmap-template-v2.md and roadmap-checklist-template-v2.md (originals untouched).
- Updated frontmatter version to '2.0'.
- Added instructions:
  - "Start Scribe first before any population."
  - Step-by-step: "LLM populates JSON-LD placeholders; Scribe generates MD twin on save."
  - "DO NOT add date-created or date-modified—Scribe handles automatically."
  - JSON-LD focus: Placeholders for @context, phases as objects.
- Checklist v2 integrates progress sections (e.g., timeline, metrics, logs) into one file.

## Plugin Development
- New plugin: tools/scribe/actions/roadmap_populator_action.py (inherits from BaseAction).
- Functionality:
  - Initializes {project}-roadmap-v2.jsonld from v2 template (populates with LLM-provided data if available).
  - On JSON-LD changes: Validates structure, adds timestamps, generates {project}-roadmap-v2.md twin.
  - Similar for checklist: {project}-checklist-v2.jsonld → {project}-checklist-v2.md.
- Ensures atomic writes and fallbacks (e.g., minimal valid JSON-LD if corrupt).

## Scribe Configuration (Including Tool Deactivation)
- Edit tools/scribe/config/config.json:
  - Add "actions" to "plugins"."directories" (for the new plugin).
  - New rule: Monitor active-project/*-v2.jsonld changes, trigger RoadmapPopulatorAction.
  - Deactivate others: Set "enabled": false for all rules except the new one; restrict "plugins"."directories" to only essentials.
- This isolates roadmap features for verification—no interference from other tools.

## Timestamping Requirements
- Handled by Scribe in the plugin's execute method (adds current ISO 8601 timestamps on create/update).
- Templates instruct: "Focus on content—timestamps auto-added by Scribe on save."
- Ensures LLMs don't generate timestamps, avoiding inaccuracies.

## Trigger Mechanism
- File monitoring: Scribe watches active-project/*-v2.jsonld (LLM writes directly; changes trigger sync to MD twin).
- No PowerShell—reliable and error-free.

## Workflow
1. LLM creates/populates JSON-LD (e.g., adds phases/statuses).
2. Scribe detects change → Validates → Adds timestamps → Generates MD twin.
3. For checklists: Similar process.
4. Verification: Scribe logs all actions to tools/reports/ for audit.

## Testing/Verification
- Start Scribe (python tools/scribe/engine.py).
- Create sample JSON-LD → Verify MD generated with timestamps.
- Edit JSON-LD → Verify updates sync atomically.
- Check isolation: No other files modified.
- Test fallbacks: Simulate invalid JSON-LD → Scribe corrects to minimal valid.

## Conclusion
This plan is now fully implemented and ready for use. It ensures sophisticated, automated workflows with 100% success. 